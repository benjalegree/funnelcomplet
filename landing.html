<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Domina tus Funnels con nuestra Checklist Futurista</title>
  <style>
    body { margin:0; font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, "Helvetica Neue", sans-serif; background:#fff; color:#000; line-height:1.5; }
    .container { max-width:800px; padding:1rem; margin:0 auto; }
    .hero { text-align:center; padding:4rem 1rem; }
    .hero h1 { font-size:2.5rem; margin:0 0 .5rem; }
    .hero p { font-size:1.125rem; margin:0 0 1.5rem; color:#333; }
    .btn-primary { background:#00d5ff; color:#fff; border:none; padding:.75rem 1.5rem; font-size:1rem; border-radius:999px; cursor:pointer; }
    .cards { display:grid; grid-template-columns:1fr; gap:1rem; margin:2rem 0; }
    @media(min-width:600px) { .cards { grid-template-columns:repeat(3,1fr); } }
    .card { border:1px solid #eee; border-radius:8px; padding:1.5rem; text-align:center; background:#f9f9f9; }
    .card h3 { margin:0 0 .5rem; font-size:1.25rem; }
    .card p { margin:0; font-size:1rem; color:#555; }
    .faq { margin:2rem 0; }
    .faq h2 { font-size:1.5rem; margin-bottom:1rem; }
    .faq-item { margin-bottom:1rem; }
    .faq-item button { width:100%; background:#00d5ff; color:#000; border:none; text-align:left; padding:.75rem 1rem; font-size:1rem; border-radius:4px; cursor:pointer; }
    .faq-item .answer { display:none; padding:.75rem 1rem; margin-top:.25rem; background:#f1faff; border-left:3px solid #00d5ff; border-radius:0 4px 4px 0; color:#333; }
    footer { text-align:center; padding:2rem 1rem; font-size:.875rem; color:#555; }
  </style>
</head>
<body>
  <main class="container">
    <section class="hero" aria-labelledby="hero-title">
      <h1 id="hero-title">Domina tus Funnels con nuestra Checklist Futurista</h1>
      <p>Descubre los 10 pasos esenciales para construir embudos que convierten.</p>
      <button class="btn-primary" onclick="document.getElementById('leadForm').scrollIntoView({behavior:'smooth'})">Recibir mi checklist</button>
    </section>

    <section class="cards" aria-label="Beneficios">
      <div class="card">
        <h3>Estructura Óptima</h3>
        <p>Define cada etapa de tu embudo para maximizar conversiones.</p>
      </div>
      <div class="card">
        <h3>Técnicas Avanzadas</h3>
        <p>Aplica estrategias futuristas para captar y retener clientes.</p>
      </div>
      <div class="card">
        <h3>Implementación Rápida</h3>
        <p>Checklist lista para usar: ahorra tiempo y lanza hoy.</p>
      </div>
    </section>

    <section aria-labelledby="form-title" class="container">
      <h2 id="form-title" class="visually-hidden">Formulario de Captura</h2>
      <!-- BEGIN LEAD BLOCK (DO NOT EDIT) -->
<form id="leadForm" autocomplete="on">
  <label>Email</label>
  <input type="email" name="email" required placeholder="tu@correo.com">

  <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px">
    <div>
      <label>Nombre (opcional)</label>
      <input type="text" name="name" placeholder="Tu nombre">
    </div>
    <div>
      <label>Teléfono (opcional)</label>
      <input type="tel" name="phone" placeholder="+34 600 000 000">
    </div>
  </div>

  <input type="hidden" name="project_slug" value="">
  <input type="hidden" name="page_url" value="">
  <input type="hidden" name="utm_source" value="">
  <input type="hidden" name="utm_medium" value="">
  <input type="hidden" name="utm_campaign" value="">
  <input type="hidden" name="utm_term" value="">
  <input type="hidden" name="utm_content" value="">

  <div style="margin-top:14px;display:flex;gap:10px;align-items:center;flex-wrap:wrap">
    <button type="submit" id="btnSubmit" style="padding:12px 16px;border-radius:999px;border:0;background:#0b5fff;color:#fff;font-weight:800;cursor:pointer">Recibir mi checklist</button>
    <span id="formMessage" style="color:#475569">—</span>
  </div>
</form>

<script>
(function(){
  const ENDPOINT = "https://script.google.com/macros/s/AKfycbzWAIlXAlJURfqDeUBgyFAeojocv-eciJ6FpVsS9lKbp_V5IsPwDTXQjLiTuxNie9taIg/exec";
  const API_KEY  = "pon-un-secreto-simple-aqui";

  const form = document.getElementById('leadForm');
  const msg  = document.getElementById('formMessage');
  const btn  = document.getElementById('btnSubmit');

  function looksLikeTpl(v){ return typeof v==='string' && v.includes(') && v.includes('); }

  (function setParams(){
    const set = (n,v)=>{ const el=form.querySelector('[name="'+n+'"]'); if(el) el.value=v||''; };
    set('page_url', location.href);

    const q = new URLSearchParams(location.search);
    ['utm_source','utm_medium','utm_campaign','utm_term','utm_content'].forEach(k=> set(k, q.get(k)));

    const slugEl = form.querySelector('[name="project_slug"]');
    if (slugEl){
      if (!slugEl.value || looksLikeTpl(slugEl.value)){
        const fromUrl  = q.get('project_slug') || q.get('slug') || '';
        let fromGlob   = (typeof window!=='undefined' && window.__PSICO_SLUG) ? String(window.__PSICO_SLUG) : '';
        if (looksLikeTpl(fromGlob)) fromGlob='';
        slugEl.value = fromUrl || fromGlob || '';
      }
    }
  })();

  form.addEventListener('submit', async (e)=>{
    e.preventDefault();
    const slug = (form.querySelector('[name="project_slug"]')||{}).value || '';
    if(!slug){
      msg.textContent = "Error: falta project_slug (abre el enlace con ?project_slug=… o vuelve a generar la landing).";
      return;
    }
    msg.textContent = "Enviando…";
    btn.disabled = true; const prev = btn.textContent; btn.textContent = "Enviando…";

    const data = Object.fromEntries(new FormData(form).entries());
    data.action = "upsert";
    data._key   = API_KEY;

    try{
      const r = await fetch(ENDPOINT, {
        method:"POST",
        headers:{ "Content-Type":"text/plain;charset=UTF-8" },
        body: JSON.stringify(data)
      });
      const txt = await r.text();
      let json; try{ json = JSON.parse(txt); } catch(e){ throw new Error("Respuesta no JSON: "+txt.slice(0,160)); }

      if(json.ok){
        msg.textContent = "¡Listo! Revisa tu correo.";
        form.reset();
      } else {
        msg.textContent = "Error: " + (json.error || "Inténtalo de nuevo.");
        btn.disabled = false; btn.textContent = prev;
      }
    }catch(err){
      msg.textContent = "Error: " + (err.message || "Sin conexión.");
      btn.disabled = false; btn.textContent = prev;
    }
  });
})();
</script>
<!-- END LEAD BLOCK (DO NOT EDIT) -->
    </section>

    <section class="faq" aria-label="Preguntas Frecuentes">
      <h2>Preguntas Frecuentes</h2>
      <div class="faq-item">
        <button aria-expanded="false">¿Qué incluye la checklist?</button>
        <div class="answer"><p>Incluye pasos detallados desde la captación hasta la conversión final.</p></div>
      </div>
      <div class="faq-item">
        <button aria-expanded="false">¿Es apta para principiantes?</button>
        <div class="answer"><p>Sí, está diseñada para guiarte paso a paso, sin importar tu nivel.</p></div>
      </div>
      <div class="faq-item">
        <button aria-expanded="false">¿Cuánto tiempo toma implementarla?</button>
        <div class="answer"><p>Puedes tener los pasos básicos listos en menos de un día.</p></div>
      </div>
      <div class="faq-item">
        <button aria-expanded="false">¿Hay garantía?</button>
        <div class="answer"><p>Ofrecemos soporte básico por 7 días tras la descarga.</p></div>
      </div>
    </section>
  </main>

  <script>
    document.querySelectorAll('.faq-item button').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const open = btn.getAttribute('aria-expanded')==='true';
        btn.setAttribute('aria-expanded', String(!open));
        btn.nextElementSibling.style.display = open ? 'none' : 'block';
      });
    });
  </script>

  <footer>
    <p>&copy; 2025 funnels proooooooas. Todos los derechos reservados.</p>
  </footer>
</body>
</html>
